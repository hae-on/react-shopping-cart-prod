"use strict";(self.webpackChunkreact_shopping_cart_prod=self.webpackChunkreact_shopping_cart_prod||[]).push([[23],{"./src/stories/CartProductItem.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder}});var _Default$parameters,_Default$parameters2,_Default$parameters2$,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),meta={title:"Cart/CartProductItem",component:__webpack_require__("./src/components/Cart/CartProductItem.tsx").Z,tags:["autodocs"],argTypes:{}};__webpack_exports__.default=meta;var Default={args:{cartProduct:{id:1,quantity:4,product:{id:1,name:"PET보틀-정사각(420ml)",price:43400,imageUrl:"images/정사각-420.jpeg"}}}};Default.parameters=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},Default.parameters),{},{docs:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({originalSource:"{\n  args: {\n    cartProduct: mockProduct\n  }\n}"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})});var __namedExportsOrder=["Default"]},"./src/components/Cart/CartProductItem.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return Cart_CartProductItem}});var _templateObject,_templateObject2,_templateObject3,_templateObject4,taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),CheckBox=__webpack_require__("./src/components/Common/CheckBox.tsx"),Image=__webpack_require__("./src/components/Common/Image.tsx"),AmountCounter=__webpack_require__("./src/components/Common/AmountCounter.tsx"),theme=__webpack_require__("./src/styles/theme.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),assets_TrashCanIcon=function TrashCanIcon(){return(0,jsx_runtime.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:theme.Z.colors.gray300,className:"bi bi-trash",viewBox:"0 0 16 16",children:[(0,jsx_runtime.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),(0,jsx_runtime.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})},useCartProducts=__webpack_require__("./src/hooks/useCartProducts.ts"),useCheckedProducts=__webpack_require__("./src/hooks/useCheckedProducts.ts"),CartProductItem=function CartProductItem(_ref){var cartProduct=_ref.cartProduct,quantity=cartProduct.quantity,product=cartProduct.product,name=product.name,price=product.price,imageUrl=product.imageUrl,_useCartProducts=(0,useCartProducts.Z)(product),removeProduct=_useCartProducts.removeProduct,addCount=_useCartProducts.addCount,subtractCount=_useCartProducts.subtractCount,_useCheckedProducts=(0,useCheckedProducts.Z)(),handleCheckBoxChange=_useCheckedProducts.handleCheckBoxChange,isCheckedProduct=_useCheckedProducts.isCheckedProduct;return(0,jsx_runtime.jsxs)(CartProductItemContainer,{children:[(0,jsx_runtime.jsx)(CheckBoxWrapper,{children:(0,jsx_runtime.jsx)(CheckBox.Z,{onChange:function onChange(){return handleCheckBoxChange(cartProduct)},checked:isCheckedProduct(cartProduct)})}),(0,jsx_runtime.jsx)(Image.Z,{src:imageUrl,alt:name,loading:"lazy",size:"small"}),(0,jsx_runtime.jsx)(CartProductName,{children:name}),(0,jsx_runtime.jsxs)(CartProductRightWrapper,{children:[(0,jsx_runtime.jsx)("button",{onClick:removeProduct,children:(0,jsx_runtime.jsx)(assets_TrashCanIcon,{})}),(0,jsx_runtime.jsx)(AmountCounter.Z,{designType:"cart",count:quantity,addCount:addCount,subtractCount:subtractCount}),(0,jsx_runtime.jsxs)("p",{children:[price.toLocaleString("ko-KR"),"원"]})]})]})},CartProductItemContainer=styled_components_browser_esm.ZP.div(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n  display: flex;\n  justify-content: space-around;\n"]))),CheckBoxWrapper=styled_components_browser_esm.ZP.div(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n  margin-right: 15px;\n"]))),CartProductName=styled_components_browser_esm.ZP.p(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(["\n  width: 50%;\n  padding: 0 5px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),CartProductRightWrapper=styled_components_browser_esm.ZP.div(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: flex-end;\n"]))),Cart_CartProductItem=CartProductItem;try{CartProductItem.displayName="CartProductItem",CartProductItem.__docgenInfo={description:"",displayName:"CartProductItem",props:{cartProduct:{defaultValue:null,description:"",name:"cartProduct",required:!0,type:{name:"CartProduct"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Cart/CartProductItem.tsx#CartProductItem"]={docgenInfo:CartProductItem.__docgenInfo,name:"CartProductItem",path:"src/components/Cart/CartProductItem.tsx#CartProductItem"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Common/AmountCounter.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return Common_AmountCounter}});var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),assets_ArrowUpIcon=function ArrowUpIcon(){return(0,jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"12",viewBox:"0 0 21 18",children:(0,jsx_runtime.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.373 6.691l3.4 4.079c.264.318.221.791-.097 1.056-.135.112-.305.174-.48.174H7.399c-.415 0-.75-.336-.75-.75 0-.175.061-.345.173-.48l3.4-4.079c.264-.318.737-.36 1.055-.096.035.03.067.062.096.096z"})})},assets_ArrowDownIcon=function ArrowDownIcon(){return(0,jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"12",viewBox:"0 0 21 18",children:(0,jsx_runtime.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.221 11.309L6.822 7.23c-.265-.318-.222-.791.096-1.056.135-.112.305-.174.48-.174h6.798c.414 0 .75.336.75.75 0 .175-.061.345-.174.48l-3.399 4.079c-.265.318-.738.36-1.056.096-.035-.03-.067-.062-.096-.096z"})})},counterStyles={main:{group:(0,styled_components_browser_esm.iv)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n      height: 28px;\n    "]))),input:(0,styled_components_browser_esm.iv)(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n      width: 42px;\n      font-size: 16px;\n    "]))),button:(0,styled_components_browser_esm.iv)(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(["\n      width: 24px;\n      height: 14px;\n    "])))},cart:{group:(0,styled_components_browser_esm.iv)(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.Z)(["\n      height: 45px;\n    "]))),input:(0,styled_components_browser_esm.iv)(_templateObject5||(_templateObject5=(0,taggedTemplateLiteral.Z)(["\n      width: 53px;\n      font-size: 20px;\n    "]))),button:(0,styled_components_browser_esm.iv)(_templateObject6||(_templateObject6=(0,taggedTemplateLiteral.Z)(["\n      width: 32px;\n    "])))}},AmountCounter=function AmountCounter(_ref){var designType=_ref.designType,count=_ref.count,addCount=_ref.addCount,subtractCount=_ref.subtractCount;return(0,jsx_runtime.jsxs)(InputGroup,{designType:designType,children:[(0,jsx_runtime.jsx)(CounterInput,{type:"number",value:count,readOnly:!0,designType:designType}),(0,jsx_runtime.jsxs)(CountBtnContainer,{children:[(0,jsx_runtime.jsx)(CountBtn,{designType:designType,onClick:addCount,"aria-label":"수량 더하기 버튼",children:(0,jsx_runtime.jsx)(assets_ArrowUpIcon,{})}),(0,jsx_runtime.jsx)(CountBtn,{designType:designType,onClick:subtractCount,"aria-label":"수량 빼기 버튼",children:(0,jsx_runtime.jsx)(assets_ArrowDownIcon,{})})]})]})},InputGroup=styled_components_browser_esm.ZP.div(_templateObject7||(_templateObject7=(0,taggedTemplateLiteral.Z)(["\n  display: flex;\n  ","\n"])),(function(_ref2){var designType=_ref2.designType;return counterStyles[designType].group})),CounterInput=styled_components_browser_esm.ZP.input(_templateObject8||(_templateObject8=(0,taggedTemplateLiteral.Z)(["\n  border: 1px solid ",";\n  text-align: center;\n  outline: none;\n  ","\n\n  &::-webkit-inner-spin-button,\n  &::-webkit-outer-spin-button {\n    display: none;\n  }\n"])),(function(_ref3){return _ref3.theme.colors.gray100}),(function(_ref4){var designType=_ref4.designType;return counterStyles[designType].input})),CountBtnContainer=styled_components_browser_esm.ZP.div(_templateObject9||(_templateObject9=(0,taggedTemplateLiteral.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  flex-grow: 1;\n"]))),CountBtn=styled_components_browser_esm.ZP.button(_templateObject10||(_templateObject10=(0,taggedTemplateLiteral.Z)(["\n  border: 1px solid ",";\n  flex: 1;\n\n  ","\n"])),(function(_ref5){return _ref5.theme.colors.gray100}),(function(_ref6){var designType=_ref6.designType;return counterStyles[designType].button})),Common_AmountCounter=AmountCounter;try{AmountCounter.displayName="AmountCounter",AmountCounter.__docgenInfo={description:"",displayName:"AmountCounter",props:{designType:{defaultValue:null,description:"",name:"designType",required:!0,type:{name:"enum",value:[{value:'"main"'},{value:'"cart"'}]}},count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},addCount:{defaultValue:null,description:"",name:"addCount",required:!0,type:{name:"() => void"}},subtractCount:{defaultValue:null,description:"",name:"subtractCount",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Common/AmountCounter.tsx#AmountCounter"]={docgenInfo:AmountCounter.__docgenInfo,name:"AmountCounter",path:"src/components/Common/AmountCounter.tsx#AmountCounter"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Common/CheckBox.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _templateObject,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),CheckBox=function CheckBox(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InputCheckBox,(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},props))},InputCheckBox=styled_components__WEBPACK_IMPORTED_MODULE_2__.ZP.input.attrs({type:"checkbox"})(_templateObject||(_templateObject=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_3__.Z)(["\n  appearance: none;\n  width: 28px;\n  height: 28px;\n  border: 1px solid ",";\n  position: relative;\n  outline: none;\n  cursor: pointer;\n\n  &:checked {\n    background-color: ",";\n\n    &::before {\n      content: '';\n      position: absolute;\n      left: 8px;\n      top: 0px;\n      width: 6px;\n      height: 16px;\n      border: solid ",";\n      border-width: 0 4px 4px 0;\n      transform: rotate(45deg);\n    }\n  }\n"])),(function(_ref){return _ref.theme.colors.primary}),(function(_ref2){return _ref2.theme.colors.black}),(function(_ref3){return _ref3.theme.colors.white}));__webpack_exports__.Z=CheckBox;try{CheckBox.displayName="CheckBox",CheckBox.__docgenInfo={description:"",displayName:"CheckBox",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Common/CheckBox.tsx#CheckBox"]={docgenInfo:CheckBox.__docgenInfo,name:"CheckBox",path:"src/components/Common/CheckBox.tsx#CheckBox"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Common/Image.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _templateObject,_templateObject2,_templateObject3,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["size"],Image=function Image(_ref){var size=_ref.size,props=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_ref,_excluded);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ImageBox,(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({size:size},props))},ImageStyled={small:(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(_templateObject||(_templateObject=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_4__.Z)(["\n    width: 144px;\n    height: 144px;\n\n    @media (max-width: 420px) {\n      width: 80px;\n      height: 80px;\n      font-size: 20px;\n    }\n  "]))),medium:(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.iv)(_templateObject2||(_templateObject2=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_4__.Z)(["\n    width: 282px;\n    height: 282px;\n  "])))},ImageBox=styled_components__WEBPACK_IMPORTED_MODULE_3__.ZP.img(_templateObject3||(_templateObject3=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_4__.Z)(["\n  ","\n"])),(function(_ref2){var size=_ref2.size;return ImageStyled[size]}));__webpack_exports__.Z=Image;try{Image.displayName="Image",Image.__docgenInfo={description:"",displayName:"Image",props:{size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Common/Image.tsx#Image"]={docgenInfo:Image.__docgenInfo,name:"Image",path:"src/components/Common/Image.tsx#Image"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/useCartProducts.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return hooks_useCartProducts}});var regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/recoil/es/index.js"),cartProductData=__webpack_require__("./src/recoil/cartProductData.ts"),cartProductHandler=__webpack_require__("./src/domain/cartProductHandler.ts"),apis_cartProducts=__webpack_require__("./src/apis/cartProducts.ts"),hostData=__webpack_require__("./src/recoil/hostData.ts"),updateCartProductQuantity=function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(hostName,targetProduct,delta){return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,apis_cartProducts.h)(hostName).then((function(apiInstance){return apiInstance.patchCartProduct(targetProduct.id,targetProduct.quantity+delta)}));case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}),_callee)})));return function updateCartProductQuantity(_x,_x2,_x3){return _ref.apply(this,arguments)}}(),hooks_useProductQuantity=function useProductQuantity(productId){var hostName=(0,es.sJ)(hostData.D),_useRecoilState=(0,es.FV)(cartProductData.f),_useRecoilState2=(0,slicedToArray.Z)(_useRecoilState,2),cartProducts=_useRecoilState2[0],setCartProducts=_useRecoilState2[1],updateCount=function(){var _ref2=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee2(productId,delta){var targetProduct,updatedCartProducts;return(0,regeneratorRuntime.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!(targetProduct=(0,cartProductHandler.V)(cartProducts,productId))){_context2.next=8;break}return _context2.next=4,updateCartProductQuantity(hostName,targetProduct,delta);case 4:return _context2.next=6,(0,apis_cartProducts.h)(hostName).then((function(apiInstance){return apiInstance.fetchCartProducts()}));case 6:updatedCartProducts=_context2.sent,setCartProducts(updatedCartProducts);case 8:case"end":return _context2.stop()}}),_callee2)})));return function updateCount(_x4,_x5){return _ref2.apply(this,arguments)}}();return{addCount:function addCount(){updateCount(productId,1)},subtractCount:function subtractCount(){updateCount(productId,-1)}}},hooks_useCartProducts=function useCartProducts(product){var id=product.id,hostName=(0,es.sJ)(hostData.D),_useRecoilState=(0,es.FV)(cartProductData.f),_useRecoilState2=(0,slicedToArray.Z)(_useRecoilState,2),cartProducts=_useRecoilState2[0],setCartProducts=_useRecoilState2[1],_useProductQuantity=hooks_useProductQuantity(id),addCount=_useProductQuantity.addCount,subtractCount=_useProductQuantity.subtractCount,target=(0,cartProductHandler.V)(cartProducts,id),addProduct=function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(){var cartItemId;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,apis_cartProducts.h)(hostName).then((function(apiInstance){return apiInstance.postCartProduct(product.id)}));case 2:(cartItemId=_context.sent)&&setCartProducts([].concat((0,toConsumableArray.Z)(cartProducts),[{id:Number(cartItemId),quantity:1,product:product}]));case 4:case"end":return _context.stop()}}),_callee)})));return function addProduct(){return _ref.apply(this,arguments)}}(),removeProduct=function removeProduct(){target&&((0,apis_cartProducts.h)(hostName).then((function(apiInstance){return apiInstance.deleteCartProduct(target.id)})),setCartProducts(cartProducts.filter((function(cartProduct){return cartProduct.id!==target.id}))))};return(0,react.useEffect)((function(){target&&0===target.quantity&&removeProduct()}),[id,setCartProducts,target]),{target:target,addProduct:addProduct,removeProduct:removeProduct,addCount:addCount,subtractCount:subtractCount}}},"./src/hooks/useCheckedProducts.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),recoil__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/recoil/es/index.js"),_recoil_hostData__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/recoil/hostData.ts"),_recoil_cartProductData__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/recoil/cartProductData.ts"),_recoil_checkedProductData__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/recoil/checkedProductData.ts"),_apis_cartProducts__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/apis/cartProducts.ts");__webpack_exports__.Z=function useCheckedProducts(){var hostName=(0,recoil__WEBPACK_IMPORTED_MODULE_1__.sJ)(_recoil_hostData__WEBPACK_IMPORTED_MODULE_2__.D),_useRecoilState=(0,recoil__WEBPACK_IMPORTED_MODULE_1__.FV)(_recoil_cartProductData__WEBPACK_IMPORTED_MODULE_3__.f),_useRecoilState2=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_6__.Z)(_useRecoilState,2),cartProducts=_useRecoilState2[0],setCartProducts=_useRecoilState2[1],_useRecoilState3=(0,recoil__WEBPACK_IMPORTED_MODULE_1__.FV)(_recoil_checkedProductData__WEBPACK_IMPORTED_MODULE_4__.TH),_useRecoilState4=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_6__.Z)(_useRecoilState3,2),checkedProducts=_useRecoilState4[0],setCheckedProducts=_useRecoilState4[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){cartProducts.length>0&&setCheckedProducts(cartProducts)}),[cartProducts]),{removeCheckedProducts:function removeCheckedProducts(){var selectedProducts=checkedProducts.map((function(product){return product.id}));setCartProducts(cartProducts.filter((function(product){return!selectedProducts.includes(product.id)}))),setCheckedProducts(checkedProducts.filter((function(product){return!selectedProducts.includes(product.id)}))),selectedProducts.forEach((function(productId){(0,_apis_cartProducts__WEBPACK_IMPORTED_MODULE_5__.h)(hostName).then((function(apiInstance){return apiInstance.deleteCartProduct(productId)}))}))},handleCheckBoxChange:function handleCheckBoxChange(cartProduct){var updatedCheckedItems=checkedProducts.includes(cartProduct)?checkedProducts.filter((function(item){return item!==cartProduct})):[].concat((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_7__.Z)(checkedProducts),[cartProduct]);setCheckedProducts(updatedCheckedItems)},handleAllCheckedProducts:function handleAllCheckedProducts(){cartProducts.length!==checkedProducts.length?setCheckedProducts(cartProducts):setCheckedProducts([])},isCheckedProduct:function isCheckedProduct(cartProduct){return checkedProducts.includes(cartProduct)}}}},"./src/recoil/checkedProductData.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{H1:function(){return checkedListSelector},TH:function(){return checkedItemAtom},iH:function(){return totalPriceSelector}});var recoil__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/recoil/es/index.js"),checkedItemAtom=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.cn)({key:"checkedItemState",default:[]}),checkedListSelector=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.nZ)({key:"checkedListState",get:function get(_ref){return(0,_ref.get)(checkedItemAtom).length}}),totalPriceSelector=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.nZ)({key:"totalPriceState",get:function get(_ref2){return(0,_ref2.get)(checkedItemAtom).reduce((function(total,cartProduct){return total+cartProduct.quantity*cartProduct.product.price}),0)}})}}]);